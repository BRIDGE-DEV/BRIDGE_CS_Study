
---
# 07-1 다양한 보조기억장치
---
#### 하드디스크(HDD : Hard Disk Drive)

**플래터(platter)** 
	- 하드디스크에서 실질적으로 데이터가 저장되는 동그란 원판
	- 자기물질로 덮여있어 N극과 S극을 저장.
	- N극과 S극은 0과 1의 역할을 수행
**스핀들(spindle)**
	-플래터를 회전시키는 구성요소
	-돌리는 속도는 분당 회전수를 나타내는 **RPM(Revolution Per Minuet)** 로 표현
**헤드(Head)**
	-플래터를 대상으로 읽고 쓰는 구성요소
	-플래터위에 미세하게 떠 있는 채로 데이터를 읽고 씀(플래터와 헤드사이의 거리는 약 머리카락의 1/2000정도)
	-헤드를 원하는 위치로 이동시키는 **디스크 암(disk arm)** 에 부착되어 있음
	-읽고 쓰는 동안 강한 자성을 감지할 뿐 플래터를 건드리지는 않음

![[Pasted image 20231123180556.png]]
![[Pasted image 20231123181508.png]]
#### 플래터의 구조

**트랙(track)** 
	-플래터를 동심원으로 나눴을 때 그중 하나의 원
**섹터(sector)**
	-트랙을 구성하는 단위 보통 한 섹터에 512byte정도의 크기를 가짐
**실린더(cylinder)**
	-여러겹의 플래터상에서 같은 트랙이 위치한 곳을 모은 단위
	-보통 연속된 정보를 한 실린더에 기록해서 디스크 암을 움직이지 않고 바로 데이터에 접근
**클러스터(cluster)**
	-여러 개의 섹터를 묶는 단위
	-클러스터는 파티션의 크기와 파일 시스템에 따라서 다르다.
![[Pasted image 20231123183346.png]]


#### 데이터 접근 시간

**탐색 시간(seek time)**
	- 접근하려는 데이터가 저장된 트랙까지 헤드를 이동시키는 시간
**회전 지연(rotational latency)**
	- 헤드가 있는 곳으로 플래터를 회전시키는 시간
**전송 시간(transfer time)**
	- 하드 디스크와 컴퓨터간에 데이터를 전송하는 시간


![[Pasted image 20231123191931.png]]

하드디스크 작동영상
<iframe width="560" height="315" src="https://www.youtube.com/embed/ojGvHDjHPb4?si=Lms_loBNQ3gvXSEB" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

---
#### 플래시 메모리(flash memory)

**플래시 메모리**
	- 전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반의 저장 장치
	- 흔히 USB, SD카드, SSD가  플래시메모리 기반의 보조기억장치
	- **셀(cell)** 이라는 데이터를 저장하는 단위로 이루어짐
	- 기록횟수에 제한이 있음(수명이 있음)

**플래시 메모리의 종류?**

NAND 형과 NOR형
![[Pasted image 20231124161059.png]]



*플래시 메모리는 한 셀에 몇 비트를 저장할 수 있느냐에 따라 종류가 나뉨*

**SLC(Single Level Cell)**
	-한 셀에 1비트를 저장할 수 있는 종류
	-**MLC** 나 **TLC**타입보다 수명이 길고 빠른 입출력이 가능
	-용량대비 가격이 비쌈.
	-보통 기업에서 사용
**MCL(Multiple Level Cell)**
	-한 셀에 2비트를 저장할 수 있는 종류
	-**SLC** 타입보다 저렴하며 대용화할 수 있음
	-**SLC** 타입보다 용량대비 가격이 저렴함.
	-시중에서 사용되는 플래시 메모리 저장 장치들이 **MLC**타입으로 만들어짐
**TCL(Triple Level Cell)**
	-한 셀에 3비트를 저장할 수 있는 종류
	-일반적으로 **SLC**와 **MLC**보다 수명과 속도가 떨어지지만 가격이 저렴


![[Pasted image 20231123203119.png]]
- 셀들이 모여 **페이지(page)**
- 페이지들이 모여 **블록(block)**
- 블록들이 모여 **플레인(plane)**
- 플레인들이 모여 **다이(die)**

*읽기와 쓰기는 페이지 단위로 이루어지지만 삭제는 블록단위로 이루어진다.*
읽기/쓰기 단위와 삭제의 단위가 다르다는 것이 플래시 메모리의 가장 큰 특징 중 하나이다.

읽기와 쓰기 단계에서 페이지는 세 개의 상태를 가진다.
**Free 상태** : 어떠한 데이터도 저장하지 않아 새로운 데이터를 저장할 수 있는 단계
**Vaild 상태** : 이미 유효한 데이터를 저장하고 있는 단계
**Invalid 상태** : 쓰레기 값이라 불리는 유효하지 않은 데이터를 저장하고 있는 단계

*플래시 메모리는 하드디스크와 달리 덮어쓰기가 불가능하여 Valid 상태인 페이지에는 새 데이터를 저장할 수 없음*

플래시 메모리의 덮어쓰기 과정

>4개의 페이지가 한 블록을 이룬다고 가정
>{A,B,C,  } 를 {A',B,C   }로 덮어쓰는 과정
>A' 추가 {A,B,C,A'} 
>새로운 블록에 B,C,A'를 복사 
>기존의 블록인 {A,B,C,A'}를 제거

---
# 07-2 RAID의 정의와 종류

#### RAID (Redundant Array of Independent Disks)

**RAID**
	-데이터의 안정성 혹은 높은 성능을 위해 여러 개의 물리적 보조기억장치를 마치 하나의 논리적 보조기억장치처럼 사용하는 기술
	-여러가지 구성방법이 존재하는데 이를 **RAID 레벨**이라고 표현.


**RAID 0**

*속도추구만을 위한 구성, 스트라이프(stripe)*

![[Pasted image 20231124163459.png]]

- - 2개 이상의 디스크에 데이터를 순차적으로 저장 **스트라이프(stripe)** 혹은 **스트라이핑(striping)** 이라고 불림
- 디스크 하나만 고장이 나도 모든 데이터 접근에 문제가 생김
- 데이터가 분산되어 저장했기 때문에 읽거나 쓸 때 동시에 불러올 수 있기때문에 속도   가 빠름

**RAID 1**

*복사본을 만들어 안정성 및 가용성 향상을 위한 구성, 미러링(mirroring)*
![[Pasted image 20231124164817.png]]
 - 데이터를 저장할 때 완전한 복사본을 만들어 저장한다.
 - 다른 디스크에 손상이 있더라도 복사된 디스크를 가용할 수 있으므로 안전하게 지속적으로 데이터를 제공해야하는 서버에서 많이 사용된다.
 - 복사본의 용량만큼 디스크를 활용하지 못한다.

**RAID 4**

*ECC인 패리티 비트를 사용하는 오류검출을 위한 구성*
![[Pasted image 20231124165543.png]]

- RAID 1처럼 복사본을 만드는 대신 **ECC(Error Correction Code)** 의 일종인 **패리티 비트(parity bit)** 를 저장하는 디스크를 두어 다른 장치들의 오류를 검출한다.
- RAID 4 는 RAID 1보다 적은 디스크로도 안전하게 보관할 수 있다.
- 데이터가 저장될 때마다 패리티를 저장하는 디스크를 쓰게되어 병목현상이 발생


 **RAID 5**

*패리티 비트의 분산 저장*
 ![[Pasted image 20231124171843.png]]
- 패리티를 분산하여 저장해 RAID 4의 단점을 보완
- 디스크 한 개가 고장나더라도 RAID 1처럼 안정성이 보장된다.
- 데이터를 보호하면서도 RAID 0와 비슷한 성능을 낸다.
- 2개의 디스크가 고장나면 데이터 손실 발생

**RAID 6**

*두개의 패리티를 두는 구성*
![[Pasted image 20231124172910.png]]

- 기본적으로  RAID 5 와 같은 방식이나 패리티를 두 개를 둠
- 오류 검출 및 복구 방식이 두 개가 생긴 셈이므로 RAID 4 나 RAID 5보다 안전한 구성
- 새로운 정보를 저장할 때마다 함께 저장할 패리티가 두 개이므로 쓰기 속도가 RAID5보다 떨어짐
- 2개의 디스크가 고장나더라도 데이터 손실이 없다.